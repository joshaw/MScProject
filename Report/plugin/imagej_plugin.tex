% Created:  Fri 04 Jul 2014 04:47 PM
% Modified: Fri 11 Jul 2014 11:15 AM
% @author Josh Wainwright
% File name : imagej_plugin.tex

\section{ImageJ Plugin}
\label{sec:imagej_plugin}

% TODO section about the aims of the plugin etc.
\cite{imagejapi}

\subsection{Displaying the QuadTree}
\label{sub:displaying_the_quadtree}

The first version of the plugin simply allowed the user to visualise the data,
once it had been processed and entered into a quadtree. Though this provided
little benefit to the researcher producing data, it can be a useful tool to get
an insight into the process that a program is using to analyse one's data so
that the results can be better interpretted. For this reason, this version
served as a foundation for later versions of the plugin so that, when loading
data, a user gets the opportunity to view the data before proceding with the
analysis.

Again, earlier versions of the program displayed this data using the built-in
GUI classes in the AWT and Swing libraries included in the standard Java
distribution. This effectively prohibitted any further actions being performed
on the image once it had been generated since what was displayed was only
modifiable by the JVM via compiled code. It was also very memory intensive
since, in many cases, many thousands of separate objects (data points
represented by zero lenght lines, quadtree cells by boxes, etc) and so was slow
to draw initially and redraw with any subsequent move or resize of the window.

The code used to generate this view of the data was modified to make use of the
easy image generation functions present in ImageJ. Now, instead of many
different objects being manipulated for each view of the data, a single array
with a value for each pixel is needed. For the cases where the user wishes to
view the clusters that have been found, but not have them affect the image, the
image is created with a number of different \emph{slices} in the image
\emph{stack}, Figure~\ref{fig:imagej-stack}. Slices are ImageJ's representation
of images with two or more layers, or alternative views, each of which resides
in a stack of slices. Each slice in a stack must have the same dimensions.

\begin{figure}[tbhp]
	\centering
	\includegraphics[width=0.8\linewidth]{imagej-stack.pdf}
	\caption{imagej-Stack}
	\label{fig:imagej-stack}
\end{figure}

% TODO writing about column picker
